# A2: Use Case
| | Use Case Assignment  |
| --- | ----- |
| **Aim**|  Define use case for a new Advanced Building Design fact checking tool.  |
| **Tools:** |  BPMN.io / [BPMN]  |
| **Case:** |  Validate claims made in Advanced Building Design Reports.  |
| **Groups:** | 2 - 3 people group for a specific [focus] area |
| **Practice:** | In class activity in [week 4]  |
| **Exercise:** | ... |

The aim of this assignment is to: ....

## A2A: Import the IFC model into BlenderBIM
* Import one of the Skylab models into [BlenderBIM] and explore the IFC file and its properties.

### Optional: Add quantities to the IFC model
Skylab IFC models don't have quantities (Quantity Sets) defined for any of the elements. Quantity Sets define physical dimensions of objects like lenght, width, area and volume. Quantities are very important to have access to in a model and they are luckly easy to add to a model in BlenderBIM. Watch [this video](https://github.com/timmcginley/41934/blob/main/Concepts/BlenderBIM/AddQuantitiesToIfcModelInBlenderBIM/README.md) to see how to do it. Remember to save your modified IFC model and include it in your assignment submission. 

> N.B.: Please don't modify the IFC models in any other way or add any other information to them in this assignment. 

## A2B: Explore the model with scripts
* In the scripting window you can then use IfcOpenShell to further explore the model by following examples in the [tutorials](/Examples/IfcOpenShell/Basic).

## A2C: Identify a BIM use case.
Write a short description of your use case.
Examples of use cases could be:
* Calculate structural integrity of beams and columns.
* Perform an LCA of the building.
* Perform a daylight analysis of all the relevant spaces.

## A2D: Create a BPMN diagram of the use case
You can use this online tool to create a [BPMN file](https://bpmn.io/).
A diagram should:
* Describe all stages and processes of the use case
* Show the inputs and outputs between your tool and other data models, experts, stakeholders etc.
* Clearly show the exchange of information between your tool and the IFC model. Which specific IFC classes are being checked or manipulated?

[Here](https://raw.githubusercontent.com/timmcginley/41934/f21cac124069f9fdfd79cfc0cd5869d8746bf40c/Assignments/images/EnergyAnalysisBPMN_whole.svg) is a simple example of a diagram for an Energy Analysis use case.

[Here](https://raw.githubusercontent.com/timmcginley/41934/main/Assignments/images/EnergyAnalysisComplexIDMdiagram.png) is a more complex [IDM](/Concepts/IDM) diagram of Energy Analysis.

See [this document](https://standards.buildingsmart.org/documents/IDM/IDM_guide-QuickGuideToBPMN-2007_01.pdf) and [this page](https://technical.buildingsmart.org/standards/information-delivery-manual/) from buildingSMART for more information about creating [IDM](/Concepts/IDM) diagrams using BPMN.

## A2E: Define the scope of your script
Using the diagram of your use case, identify the a part of it that you can execute in your script.
You can either clearly mark the part of the diagram from A2D that defines your scope or you can produce a new diagram.
Show the processes and logic of your tool in as much detail as possible (whithin reason). What information are you extracting and what happens with it throughout the script?

Focus on the early stage the larger use case, that is checking the model for information and either getting it ready for further simulations or maybe doing some simple calculations.


## A2F: Develop your own script

Now you can begin to develop an [IfcOpenShell] script that follows your script diagram from A2E.

Insert this piece of code at the beginning of your script. It solves the issue of different path syntax on different operating systems etc.
The only thing you have to do is to place your IFC model in a folder called `model` in the same place as your Python script.

```
main folder
├── your_script.py
├── model
│   ├── your_model.ifc
```
Change `modelname` to the name of your IFC model (notice no .ifc at the end!)

```python
from pathlib import Path
import ifcopenshell

modelname = "AC20-FZK-Haus2"

try:
    dir_path = Path(__file__).parent
    model_url = Path.joinpath(dir_path, 'model', modelname).with_suffix('.ifc')
    model = ifcopenshell.open(model_url)
except OSError:
    try:
        import bpy
        model_url = Path.joinpath(Path(bpy.context.space_data.text.filepath).parent, 'model', modelname).with_suffix('.ifc')
        model = ifcopenshell.open(model_url)
    except OSError:
        print(f"ERROR: please check your model folder : {model_url} does not exist")

# Your script goes here

# Test if everything works:
spaces = model.by_type("IfcSpace")
for space in spaces:
    print(space.LongName)
```

## Activity Completion

### 01 Your tool - A Python script
* Your `main.py` tool including the code snippet from above. You can have multiple Python files, but then they should be imported into the `main.py` script.

### 02 The IFC model
* A `model` folder with a .ifc file inside of it. You can also have multiple IFC models placed here.

### 03 A markdown file: 
This is based on the Use Case Analysis you did in [week 4].
* Describe the use case you have chosen.
* Who is the use case for?	
* What disciplinary (non BIM) expertise do you use to solve the use case?
* What IFC concepts do you need to use in your script (or would you use in the rest of the tool)?
* What disciplinary analysis does it require?	
* What building elements are you interested in?
* What is the _input data_ for your use case?	
* What (use cases) need to be done _before_ you can start your use case?
* What other use cases are waiting for your use case to complete?

### 04 A BPMN diagram saved as [SVG].
* Produce a [BPMN] diagram that describes the use case.
* Shows the exchange of information between the stakeholders in the use case
* Helps you to see what inputs and outputs your use case has.

### 04.5 A modified BPMN diagram saved as SVG that defines the scope of your tool.
* Helps you to define the scope of your script

This can either be a new diagram, or the same diagram with your scope clearly marked with a colour. 

### Learning Objectives

4. Provide professional disciplinary guidance based on OpenBIM analysis.
6. Create, fork, branch and collaborate on the development of an OpenBIM tool in Python with peers in a [code repository](/Concepts/Github).
9. Identify and model a BIM use case based on the BIM challenges identified from analysis of an OpenBIM project in [BPMN](/Concepts/BPMN/README.md).
10. Identify an appropriate [development methodology](/Concepts/Development_methodology) for an OpenBIM tool or model to different use cases.
11. Apply and improve programming skills in Python to develop an OpenBIM tool or modelling skills in OpenBIM using your engineering domain expertise.
12. Evaluate [software licensing](/Concepts/Software_licences/README.md) suitability and implications for the OpenBIM tool you develop or modelling tool you use.
    
## Learning Objectives
* L1
* L2
* L3

## Submission 2024
Enrolled students submit on DTU Learn [here](https://learn.inside.dtu.dk/d2l/lms/dropbox/user/folders_list.d2l?ou=215344&isprv=0)




<!-- links - try and keep alphabetical --> 

[Advanced Building Design]: https://github.com/timmcginley/41936/tree/main
[analysing]: /Roles/Analyst
[BIM]: /Concepts/BIM
[Blender]: /Concepts/Blender
[BlenderBIM]: /Concepts/BlenderBIM
[BPMN]: /Concepts/BPMN
[Business and societal value]: /Concepts/BusinessAndSocietalValue
[construction planning]: /Focus/Build
[energy and indoor, daylight, acoustic]: /Focus/Indoor
[FAIR]: /Concepts/FAIR
[focus area]: /Focus
[focus]: /Focus
[IFC4]: /Concepts/IFC
[IfcOpenShell]: /Concepts/IfcOpenShell
[LCA/LCC]: /Focus/Sustainability
[learning objectives]: /LearningObjectives
[modelling]: /Roles/Modeller
[OpenBIM]: /OpenBIM
[OpenBIM standards]: /Concepts/Standards
[structural]: /Focus/Structural
[SVG]: /SVG
[use case]: /Uses
[week 4]: /Schedule/04
